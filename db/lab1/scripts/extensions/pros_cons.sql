-- ========================================
-- –°—Ä–∞–≤–Ω–µ–Ω–∏–µ pg_trgm –∏ pg_bigm: –ø–ª—é—Å—ã –∏ –º–∏–Ω—É—Å—ã
-- ========================================

-- üìå –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞
SET enable_seqscan = OFF;

-- –ü–æ–∏—Å–∫ –ø–æ–¥—Å—Ç—Ä–æ–∫–∏ —Å pg_trgm
EXPLAIN ANALYZE SELECT * FROM users WHERE email ILIKE '%anderson%';

-- –ü–æ–∏—Å–∫ –ø–æ–¥—Å—Ç—Ä–æ–∫–∏ —Å bigm
EXPLAIN ANALYZE SELECT * FROM users WHERE email LIKE '%anderson%';

-- üìä –í—ã–≤–æ–¥:
-- pg_trgm:
--   + –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç SIMILARITY, %, <-> –∏ –¥—Ä.
--   + –ë—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ –ø–æ –Ω–µ—É–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω–æ–º—É —Ç–µ–∫—Å—Ç—É.
--   ‚Äì –ò–Ω–¥–µ–∫—Å—ã –±–æ–ª—å—à–∏–µ –ø–æ —Ä–∞–∑–º–µ—Ä—É, –º–µ–¥–ª–µ–Ω–Ω–æ —Å—Ç—Ä–æ—è—Ç—Å—è.
-- pg_bigm:
--   + –ë—ã—Å—Ç—Ä–µ–µ –¥–ª—è –¥–ª–∏–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ (%abc%) –∏ –∞–∑–∏–∞—Ç—Å–∫–∏—Ö —è–∑—ã–∫–æ–≤.
--   ‚Äì –û–≥—Ä–∞–Ω–∏—á–µ–Ω –≤ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è—Ö (–Ω–µ—Ç similarity).
--   ‚Äì –ú–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å GIST –≤–º–µ—Å—Ç–æ GIN.